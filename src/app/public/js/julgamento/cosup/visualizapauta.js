let pauta = JSON.parse($('#tabelaPauta').attr('data-pauta'));
console.log(pauta);
let periodo = JSON.parse($('#tabelaPauta').attr('data-periodo'));
console.log(periodo);
inicializaComponentes();
function inicializaComponentes() {
  $(document).ready(function () {
    tabelaPauta();
    $('#nomeColegiado').text(pauta.colegiado);
    $('#periodoIndica').text(periodo.mesIndicacao);
  });
}

function initModal() {
  $('.modal').modal();
}

function initSelect() {
  $('select').formSelect();
}

function tabelaPauta() {
  let tabledata = pauta.pauta;
  table = new Tabulator('#tabelaPauta', {
    data: tabledata,
    //pagination: 'local',
    downloadConfig: {
      //  columnHeaders:false, //do not include column headers in downloaded table
      //columnGroups:false, //do not include column groups in column headers for downloaded table
      //rowGroups:false, //do not include row groups in downloaded table
      columnCalcs: false, //do not include column calcs in downloaded table
      //dataTree:false, //do not include data tree in downloaded table
    },
    height: '1000px',
    minHeight: '300px',
    maxHeight: '1000px',
    layout: 'fitDataStretch',
    movableRows: true,
    movableColumns: true,
    persistence: {
      columns: true, //persist column layout
    },
    responsiveLayout: 'collapse',
    initialSort: [{ column: 'contribuinte', dir: 'desc' }],
    groupStartOpen: false,
    responsiveLayoutCollapseStartOpen: false,
    columns: [
      {
        rowHandle: true,
        formatter: 'handle',
        headerSort: false,
        frozen: true,
        width: 30,
        minWidth: 30,
        download: false,
        responsive: 0,
      },
      {
        title: 'Item',
        formatter: 'rownum',
        field: 'nItem',
        hozAlign: 'center',
        width: 40,
        responsive: 0,
        download: true,
      },
      {
        title: 'Processo',
        field: 'processo',
        //formatter: coloreProc,
        sorter: 'number',
        hozAlign: 'center',
        headerFilter: 'input',
        topCalc: countCalc,
        editor: false,
        responsive: 0,
        download: true,
      },
      {
        title: 'Contribuinte',
        field: 'contribuinte',
        //formatter: coloreProc,
        headerFilter: 'input',
        sorter: 'string',
        hozAlign: 'left',
        width: 150,
        editor: false,
        responsive: 0,
        download: true,
      },
      {
        title: 'Questionamento',
        field: 'questionamento',
        hozAlign: 'center',
        editor: 'select',
        editorParams: {
          values: [
            'Recurso Voluntário',
            'Recurso de Ofício',
            'Recurso Voluntário/Ofício',
            'Recurso Especial da Procuradoria',
            'Recurso Especial do Contribuinte',
            'Recurso Especial Procuradoria/Contribuinte',
            'Embargo da Procuradoria',
            'Embargo do Contribuinte',
            'Embargo Procuradoria/Contribuinte',
          ],
          defaultValue: '',
        },
        responsive: 0,
        download: true,
      },
      {
        title: 'Retorno?',
        field: 'retorno',
        sorter: 'string',
        hozAlign: 'center',
        headerFilter: 'input',
        editor: false,
        responsive: 0,
        download: true,
      },
      {
        title: 'Dia',
        field: 'dia',
        sorter: 'string',
        hozAlign: 'center',
        headerFilter: 'input',
        editor: false,
        responsive: 0,
        download: true,
      },
      {
        title: 'Hora',
        field: 'hora',
        sorter: 'string',
        hozAlign: 'center',
        headerFilter: 'input',
        editor: false,
        responsive: 0,
        download: true,
      },
      {
        title: 'Sequencia',
        field: 'sequencia',
        sorter: 'string',
        hozAlign: 'center',
        headerFilter: 'input',
        editor: false,
        responsive: 0,
        download: true,
      },
      // {
      //   title: 'Processo Apto?',
      //   field: 'apto',
      //   sorter: 'boolean',
      //   hozAlign: 'center',
      //   editor: false,
      //   formatter: 'tickCross',
      //   responsive: 0,
      //   download: true,
      //   headerTooltip:
      //     'Verificação automática baseada nas respostas das colunas.',
      // },
      // {
      //   title: `Abaixo de ${minimoAptoString}`,
      //   field: 'abaixo',
      //   sorter: 'boolean',
      //   hozAlign: 'center',
      //   editor: false,
      //   formatter: 'tickCross',
      //   responsive: 0,
      //   download: true,
      //   headerTooltip: `O valor originário do processo é inferior a ${minimoAptoString}`,
      // },
      // {
      //   title: 'Súmula?',
      //   field: 'sumula',
      //   sorter: 'boolean',
      //   hozAlign: 'center',
      //   editor: false,
      //   responsive: 0,
      //   download: true,
      //   formatter: 'tickCross',
      //   headerTooltip:
      //     'O processo é objeto de súmula/ resolução do CARF ou tem decisão definitiva do STF /STJ conforme art. 53, § 2º RICARF?',
      // },
      // {
      //   title: 'Vinculação?',
      //   field: 'vinculacao',
      //   sorter: 'boolean',
      //   hozAlign: 'center',
      //   editor: false,
      //   responsive: 0,
      //   download: true,
      //   formatter: 'tickCross',
      //   headerTooltip:
      //     'O processo apto para sessão virtual tem vinculação por decorrência ou reflexo (art. 6º, §1º, II e III) a outro processo de sua relatoria que seja não apto?',
      // },
      // {
      //   title: 'Dec./Liminar?',
      //   field: 'liminar',
      //   sorter: 'boolean',
      //   formatter: 'tickCross',
      //   hozAlign: 'center',
      //   editor: false,
      //   responsive: 0,
      //   download: true,
      //   headerTooltip:
      //     'Trata-se de decisão/liminar judicial para julgamento imediato?',
      // },
      {
        title: 'Alegação Principal',
        field: 'alegaPrim',
        sorter: 'string',
        hozAlign: 'left',
        editor: false,
        width: 180,
        responsive: 0,
        download: true,
        //headerTooltip: 'Caso haja mais de um código, separe por vírgulas.',
      },
      {
        title: 'Tributo',
        field: 'alegTributo',
        sorter: 'string',
        hozAlign: 'left',
        //formatter: alegTributo,
        editor: false,
        width: 180,
        responsive: 0,
        download: true,
      },
      {
        title: 'Matéria',
        field: 'alegMateria',
        //formatter: alegMateria,
        sorter: 'string',
        hozAlign: 'left',
        editor: false,
        width: 180,
        responsive: 0,
        download: true,
      },
      {
        title: 'Tema',
        field: 'alegTema',
        //formatter: alegTema,
        sorter: 'string',
        hozAlign: 'left',
        editor: false,
        width: 180,
        responsive: 0,
        download: true,
      },
      {
        title: 'Demais Alegações',
        field: 'alegaSec',
        sorter: 'string',
        hozAlign: 'left',
        editor: false,
        width: 250,
        responsive: 0,
        download: true,
        //headerTooltip: 'Caso haja mais de um código, separe por vírgulas.',
      },
      {
        title: 'Relator',
        field: 'relator',
        sorter: 'string',
        headerFilter: 'input',
        hozAlign: 'left',
        editor: false,
        responsive: 0,
        download: true,
      },
      {
        title: 'Complexidade e Indicação de Paradigma',
        field: 'comParadigma',
        sorter: 'string',
        headerFilter: 'input',
        hozAlign: 'left',
        editor: false,
        //width: 250,
        responsive: 0,
        download: true,
        //headerTooltip: 'Caso haja mais de um código, separe por vírgulas.',
      },
      {
        title: 'Horas CARF',
        field: 'HE',
        sorter: 'number',
        hozAlign: 'center',
        headerFilter: 'input',
        topCalc: somaCalc,
        editor: false,
        responsive: 0,
        download: true,
      },
      // {
      //   title: 'Valor do Processo',
      //   field: 'valor',
      //   sorter: 'number',
      //   hozAlign: 'center',
      //   editor: false,
      //   formatter: formatValor,
      //   accessorDownload: numberConvert,
      //   responsive: 0,
      //   download: true,
      // },
      {
        title: 'Indicador Paradigma',
        field: 'indParadigma',
        sorter: 'string',
        hozAlign: 'center',
        editor: false,
        //formatter: formatParadigma,
        //accessorDownload: numberConvert,
        responsive: 0,
        download: true,
      },
      // {
      //   title: 'Expandir',
      //   formatter: 'responsiveCollapse',
      //   width: 60,
      //   minWidth: 60,
      //   hozAlign: 'center',
      //   resizable: false,
      //   headerSort: false,
      //   responsive: 0,
      //   download: false,
      // },
      // {
      //   title: 'Processo',
      //   field: 'processo',
      //   sorter: 'number',
      //   hozAlign: 'center',
      //   headerFilter: 'input',
      //   topCalc: countCalc,
      //   editor: false,
      //   responsive: 0,
      //   download: true,
      // },
      // {
      //   title: 'Contribuinte',
      //   field: 'contribuinte',
      //   headerFilter: 'input',
      //   sorter: 'string',
      //   hozAlign: 'left',
      //   width: 150,
      //   editor: false,
      //   responsive: 0,
      //   download: true,
      // },
      // {
      //   title: 'Retorno?',
      //   field: 'retorno',
      //   sorter: 'string',
      //   hozAlign: 'center',
      //   headerFilter: 'input',
      //   editor: false,
      //   responsive: 0,
      //   download: true,
      // },
      // {
      //   title: 'Questionamento',
      //   field: 'questionamento',
      //   hozAlign: 'center',
      //   editor: 'select',
      //   editorParams: {
      //     values: [
      //       'Recurso Voluntário',
      //       'Recurso de Ofício',
      //       'Recurso Voluntário/Ofício',
      //       'Recurso Especial da Procuradoria',
      //       'Recurso Especial do Contribuinte',
      //       'Recurso Especial Procuradoria/Contribuinte',
      //       'Embargo da Procuradoria',
      //       'Embargo do Contribuinte',
      //       'Embargo Procuradoria/Contribuinte',
      //     ],
      //   },
      // },
      // {
      //   title: 'Alegação Principal',
      //   field: 'alegaPrim',
      //   sorter: 'string',
      //   topCalc: countCalc,
      //   hozAlign: 'left',

      //   editor: true,
      //   width: 180,
      //   responsive: 0,
      //   download: true,
      // },
      // {
      //   title: 'Demais Alegações',
      //   field: 'alegaSec',
      //   sorter: 'string',
      //   topCalc: countCalc,
      //   hozAlign: 'left',
      //   editor: false,
      //   width: 250,
      //   responsive: 0,
      //   download: true,
      // },
      // {
      //   title: 'Complexidade e Indicação de Paradigma',
      //   field: 'comParadigma',
      //   sorter: 'string',
      //   hozAlign: 'left',
      //   editor: false,
      //   //width: 250,
      //   responsive: 0,
      //   download: true,
      //   //headerTooltip: 'Caso haja mais de um código, separe por vírgulas.',
      // },
      // {
      //   title: 'Relator',
      //   field: 'relator',
      //   sorter: 'string',
      //   hozAlign: 'left',
      //   editor: false,
      //   responsive: 0,
      //   download: true,
      // },
    ],
    autoColumns: false,
    locale: true,
    langs: langs,
  });
}
